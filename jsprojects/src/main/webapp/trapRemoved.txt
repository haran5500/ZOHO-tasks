<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Trap the Sequence</title>
<script>
	function checkValid(num, checker) {
		if (num == checker) {
			return 1;
		} else if (num % checker == 0 || checker % num == 0) {
			return 1;
		} else {
			return 0;
		}
	}

	function generateTrap(start, end, checkVal) {
		var cou = 0, resultVar = "";

		for (start; start <= end; start++) {
			var flag = 0;

			if (checkValid(start, checkVal) == 1) {
				flag = 1;
			} else {
				var num = start;
				while (flag != 1 && num > 9) {
					var sumValue = 0;
					while (num > 0) {
						var rem = num % 10;
						sumValue += rem;
						num = Math.floor(num / 10);
					}
					if (checkValid(sumValue, checkVal) == 1) {
						flag = 1;
					}

					num = sumValue;

				}
			}
			if (flag == 1) {
				cou++;
				resultVar += [ start, checkVal ];
				resultVar += "<br>";
				checkVal += 2;
			} else if (flag == 0) {
				if (checkVal > 3) {
					checkVal -= 1;
				}
			}

		}
		var output = document.getElementById("opdiv");
		output.innerHTML = "Trapped Times:" + cou
				+ "<br>the trapped numbers are:<br>";
		output.innerHTML += resultVar!==''?resultVar:0;
	}
</script>
</head>
<body>
	<button onclick="generateTrap(15,45,50);">Generate the Trap</button>

	<div id="opdiv"></div>
</body>
</html>



-----2




<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Trap the Sequence</title>
<script>
	function checkValid(num, checker) {
		return (num % checker == 0 || checker % num == 0);
	}

	function generateTrap(start, end, checkVal) {
		var cou = 0, resultVar = "";

		for (start; start <= end; start++) {
			var flag = false;

			var num = start, step = 0;
			while (true) {

				if (checkValid(num, checkVal)) {
					flag = true;
					break;
				} else {
					if (num > 9) {

						var sumValue = 0;
						while (num > 0) {
							var rem = num % 10;
							sumValue += rem;
							num = Math.floor(num / 10);
						}
						num = sumValue;
					} else {
						break;
					}
				}

				step++;
			}
			if (flag) {
				cou++;
				resultVar += [ start, checkVal ];
				resultVar += "<br>";
				checkVal += 2;
			} else {
				if (checkVal > 3) {
					checkVal -= 1;
				}
			}

		}
		var output = document.getElementById("opdiv");
		output.innerHTML = "Trapped Times:" + cou
				+ "<br>the trapped numbers are:<br>";
		output.innerHTML += resultVar !== '' ? resultVar : 0;
	}
</script>
</head>
<body>
	<button onclick="generateTrap(3,13,5);">Generate the Trap</button>

	<div id="opdiv"></div>
</body>
</html>